<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Euclase Tutorial: HTML Elements</title>
		<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="main.css"></link>
	</head>
	<body>
		<h1>Creating HTML Elements</h1>
		<div class="note">We are trying to redesign this area of our API in particular, so please let us know if you have any thoughts.</div>
		<p><em>HTML elements</em> can be created by inheriting from <var>dom</var>. The element's tag and text can be controlled through the <var>tag</var> and <var>text</var> attributes respectively:</p>
		<p class="request">try changing the <var>text</var> and <var>tag</var> fields of <var>OBJ</var>:</p>
		<div data-euc="editrun simple_dom"></div>
		<h2>Child Nodes</h2>
		<p>Euclase objects look at their <var>child_nodes</var> field to set any dom children.</p>
		<div class="note">A dom object cannot have text content <em>and</em> dom children at the same time (because it's unclear where the text should be)</div>
		<p class="request">try adding another child node to <var>OBJ</var>:</p>
		<div data-euc="editrun child_nodes"></div>
		<h2>CSS Properties &amp; Attributes</h2>
		<p>Euclase objects look at their <var>css</var> and <var>attr</var> fields to set CSS properties and DOM attributes respectively</p>
		<p>These fields can hold any of the <a href="http://www.w3.org/wiki/CSS/Properties">standard CSS properties</a> or <a href="http://www.w3.org/TR/DOM-Level-2-Core/core.html">DOM attributes</a>.</p>
		<p class="request">Hover over "out" to see its behavior. Then try setting the <var>backgroundColor</var> CSS property in the hover state</p>
		<div data-euc="editrun dom_css"></div>
		<footer>
			<a class="prev" href="inheritance.html">Inheritance</a>
			<a class="next" href="copies.html">Copies</a>
		</footer>
	</body>
	<link rel="stylesheet" href="../style/editor_style.css" />
	<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.2/jquery-ui.min.js"></script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
	<script src="../_vendor/esprima.js"></script>
	<script src="../red.js"></script>
	<script src="tutorial_example_loader.js"></script>
	<script type="text/javascript">
		euc_examples.simple_dom = function() {
			var env = red.create("environment");
			env	.cd("child_nodes")
					.set("OBJ", "<stateful>")
					.cd("OBJ")
						.set("(prototypes)", "(start)", "dom")
						.set("tag")
						.set("tag", "(start)", "'div'")
						.set("text")
						.set("text", "(start)", "'hello world'")
						.up()
					.up()
				.unset("three")
				.unset("raphael")
				.unset("emit")
				.unset("find")
			return env.get_root();
		};
		euc_examples.child_nodes = function() {
			var env = red.create("environment");
			env	.cd("child_nodes")
					.set("OBJ", "<stateful>")
					.cd("OBJ")
						.set("(prototypes)", "(start)", "dom")
						.set("tag")
						.set("tag", "(start)", "'div'")
						.set("child_nodes", "<stateful>")
						.cd("child_nodes")
							.set("child_1", "<stateful>")
							.cd("child_1")
								.set("(prototypes)", "(start)", "dom")
								.set("tag")
								.set("tag", "(start)", "'h1'")
								.set("text")
								.set("text", "(start)", "'first child'")
								.up()
							.set("child_2", "<stateful>")
							.cd("child_2")
								.set("(prototypes)", "(start)", "dom")
								.set("tag")
								.set("tag", "(start)", "'h3'")
								.set("text")
								.set("text", "(start)", "'second child'")
								.up()
							.up()
						.up()
					.up()
				.unset("three")
				.unset("raphael")
				.unset("emit")
				.unset("find")
			return env.get_root();
		};
		euc_examples.dom_css = function() {
			var env = red.create("environment");
			env	.cd("child_nodes")
					.set("OBJ", "<stateful>")
					.cd("OBJ")
						.add_state("idle")
						.start_at("idle")
						.add_state("hover")
						.set("(prototypes)", "idle", "dom")
						.add_transition("idle", "hover", "on('mouseover', this)")
						.add_transition("hover", "idle", "on('mouseout', this)")
						.set("tag")
						.set("tag", "idle", "'h1'")
						.set("text")
						.set("text", "idle", "'out'")
						.set("text", "hover", "'over'")
						.set("my_color")
						.set("my_color", "idle", "'red'")
						.set("my_color", "hover", "'blue'")
						.set("css", "<stateful>")
						.cd("css")
							.set("color", "(start)", "my_color")
							.up()
						.up()
					.up()
				.unset("three")
				.unset("raphael")
				.unset("emit")
				.unset("find")
			return env.get_root();
		};
	</script>
</html>
