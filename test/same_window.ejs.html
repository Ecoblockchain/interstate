<!DOCTYPE html>
<html lang="en">
  <head>
    <title>red</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  </head>
  <body>
		<div class="output"></div>
		<div id="editor"></div>
	  <div>
			<%- red_include(red_inc.vendor) %>
			<%- red_include(red_inc.runtime) %>
			<%- red_include(red_inc.editor) %>
			<script type="text/javascript">
				var env = red.create("environment");
				var root = env.get_root();

env.set("my_obj", "<stateful>");
				/*
env.cd("screen")
	.set("rect", "<stateful>")
	.cd("rect")
	.set("(prototypes)", "(start)", "shape.rect");
				/*
env.set("a", "<stateful>")
	.cd("a")
	.set("(copies)", "3")
	.add_state("init")
	.start_at("init")
	.add_state("hover")
	.add_transition("init", "hover", "on('mouseover', this)")
	.set("prop1")
	.set("prop1", "init", "'item_'+my_copy")
	.up()
	.set("b", "<stateful>")
	.cd("b")
	.set("(prototypes)", "(start)", "a")
	.top();
				*/

				$("div#editor").editor({
					debug_env: true,
					server_window: window
				});
				$("div.output").dom_output({
					root: root,
					open_separate_client_window: false,
					edit_on_open: true
				});
			</script>
	  </div>
  </body>
</html>
